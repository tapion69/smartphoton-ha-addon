name: "Voltronic MQTT"
version: "2.0.0"
slug: voltronic-mqtt
description: "Gestionnaire d'onduleurs Voltronic avec auto-découverte MQTT pour Home Assistant"
url: "https://github.com/tapion69/smartphoton-ha-addon"
arch:
  - armhf
  - armv7
  - aarch64
  - amd64
  - i386
init: false

# ⚠️ AJOUTER CES LIGNES :
devices:
  - /dev/ttyUSB0
  - /dev/ttyUSB1
  - /dev/ttyUSB2
  - /dev/serial/by-id
uart: true
privileged:
  - SYS_RAWIO

map:
  - share:rw
ports:
  1880/tcp: 1880
ports_description:
  1880/tcp: "Interface Node-RED (optionnel, pour debug)"
options:
  serial_port_1: "/dev/ttyUSB0"
  serial_port_2: ""
  serial_port_3: ""
  mqtt_broker: "core-mosquitto"
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_password: ""
  polling_fast: 5
  polling_slow: 300
schema:
  serial_port_1: str
  serial_port_2: str?
  serial_port_3: str?
  mqtt_broker: str
  mqtt_port: port
  mqtt_user: str?
  mqtt_password: password?
  polling_fast: int(3,30)
  polling_slow: int(60,1800)
